{"version":3,"sources":["services/restApi.js","views/MoviesPage/MoviesPage.js"],"names":["axios","defaults","baseURL","key","fetchTrend","get","fetchMovie","movieId","fetchSearch","query","fetchCast","fetchReviews","MoviesPage","state","movies","inputChange","e","value","currentTarget","setState","handlerSubmit","preventDefault","fetch","then","data","results","this","location","props","onSubmit","type","onChange","map","movie","to","pathname","match","url","id","from","original_title","Component","withRouter"],"mappings":"yIAAA,qBAEAA,IAAMC,SAASC,QAAU,+BACzB,IAAMC,EAAM,mCA0BG,KAAEC,WAxBE,WACjB,OAAOJ,IAAMK,IAAN,oCAAuCF,KAuBnBG,WApBV,SAAAC,GACjB,OAAOP,IAAMK,IAAN,iBAAoBE,EAApB,oBAAuCJ,EAAvC,qBAmBgCK,YAhBrB,SAAAC,GAClB,OAAOT,IAAMK,IAAN,gCACoBF,EADpB,iCACgDM,EADhD,gCAe6CC,UAVpC,SAAAH,GAChB,OAAOP,IAAMK,IAAN,iBAAoBE,EAApB,4BAA+CJ,EAA/C,qBASwDQ,aAN5C,SAAAJ,GACnB,OAAOP,IAAMK,IAAN,6CACiCE,EADjC,4BAC4DJ,EAD5D,8B,+GCnBHS,E,4MACJC,MAAQ,CACNJ,MAAO,GACPK,OAAQ,I,EAGVC,YAAc,SAAAC,GACZ,IAAMC,EAAQD,EAAEE,cAAcD,MAE9B,EAAKE,SAAS,CAAEV,MAAOQ,K,EAGzBG,cAAgB,SAAAJ,GACdA,EAAEK,iBAEFC,IACGd,YAAY,EAAKK,MAAMJ,OACvBc,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAc,EAAKL,SAAS,CAAEL,OAAQU,EAAKC,c,4CAGrD,WAAU,IAAD,SACmBC,KAAKb,MAAvBC,EADD,EACCA,OAAQL,EADT,EACSA,MACRkB,EAAaD,KAAKE,MAAlBD,SAER,OACE,qCACE,uBAAME,SAAUH,KAAKN,cAArB,UACE,uBAAOU,KAAK,OAAOC,SAAUL,KAAKX,YAAaE,MAAOR,IACtD,wBAAQqB,KAAK,SAAb,uBAEDhB,GACC,6BACGA,EAAOkB,KAAI,SAAAC,GAAK,OACf,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAK,EAAKP,MAAMQ,MAAMC,IAAtB,YAA6BJ,EAAMK,IAC3CzB,MAAO,CAAE0B,KAAMZ,IAHnB,SAMGM,EAAMO,+B,GAxCAC,aAuDVC,sBAAW9B","file":"static/js/movies-page.a0d6211d.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst key = 'cbf7b4582ce31cf384dd80d27cc60e4c';\n\nconst fetchTrend = () => {\n  return axios.get(`/trending/all/day?api_key=${key}`);\n};\n\nconst fetchMovie = movieId => {\n  return axios.get(`/movie/${movieId}?api_key=${key}&language=en-US`);\n};\n\nconst fetchSearch = query => {\n  return axios.get(\n    `/search/movie?api_key=${key}&language=en-US&query=${query}&page=1&include_adult=true`,\n  );\n};\n\nconst fetchCast = movieId => {\n  return axios.get(`/movie/${movieId}/credits?api_key=${key}&language=en-US`);\n};\n\nconst fetchReviews = movieId => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${key}&language=en-US&page=1`,\n  );\n};\n\nexport default { fetchTrend, fetchMovie, fetchSearch, fetchCast, fetchReviews };\n","import React, { Component } from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport fetch from '../../services/restApi';\nimport PropTypes from 'prop-types';\n\nclass MoviesPage extends Component {\n  state = {\n    query: '',\n    movies: [],\n  };\n\n  inputChange = e => {\n    const value = e.currentTarget.value;\n\n    this.setState({ query: value });\n  };\n\n  handlerSubmit = e => {\n    e.preventDefault();\n\n    fetch\n      .fetchSearch(this.state.query)\n      .then(({ data }) => this.setState({ movies: data.results }));\n  };\n\n  render() {\n    const { movies, query } = this.state;\n    const { location } = this.props;\n\n    return (\n      <>\n        <form onSubmit={this.handlerSubmit}>\n          <input type=\"text\" onChange={this.inputChange} value={query} />\n          <button type=\"submit\">search</button>\n        </form>\n        {movies && (\n          <ul>\n            {movies.map(movie => (\n              <li>\n                <NavLink\n                  to={{\n                    pathname: `${this.props.match.url}/${movie.id}`,\n                    state: { from: location },\n                  }}\n                >\n                  {movie.original_title}\n                </NavLink>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n\nMoviesPage.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default withRouter(MoviesPage);\n"],"sourceRoot":""}